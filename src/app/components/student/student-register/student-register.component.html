<div class="bootstrap-iso">
  <form [formGroup]="formulario" (ngSubmit)="open(modalGuardar,modalExito)">
    <h3>Registro de usuario</h3>
    <div class="borde-tec p-b-4"></div>
    <br>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="email">Correo electrónico</label>
        <input type="email" class="form-control student" id="email" formControlName="email" placeholder="Correo"
        [class.is-invalid]="!formulario.get('email').valid && formulario.get('email').dirty"
        [class.is-valid]="formulario.get('email').valid">
      </div>
      <div class="form-group col-md-6">
        <label for="password">Contraseña</label>
        <input type="password" class="form-control" id="password" formControlName="password" placeholder="Contraseña"
        [class.is-invalid]="!formulario.get('password').valid && formulario.get('password').dirty"
        [class.is-valid]="formulario.get('password').valid">
      </div>
      <div class="form-group col-md-6">
        <label for="email_confirm">Confirma tu correo electrónico</label>
        <input type="email" class="form-control student" id="email_confirm" formControlName="email_confirm" placeholder="Confirmar Correo"
        [class.is-invalid]="!formulario.get('email_confirm').valid && formulario.get('email_confirm').dirty"
        [class.is-valid]="formulario.get('email_confirm').valid">
      </div>
      <div class="form-group col-md-6">
        <label for="password_confirm">Repetir contraseña</label>
        <input type="password" class="form-control" id="password_confirm" formControlName="password_confirm" placeholder="Repetir Contraseña"
        [class.is-invalid]="!formulario.get('password_confirm').valid && formulario.get('password_confirm').dirty"
        [class.is-valid]="formulario.get('password_confirm').valid">
      </div>
    </div>

    <h4>Datos generales del alumno</h4>
    <div class="borde-tec p-b-4"></div>
    <br>
    <div class="form-row">
      <div class="form-group col-md-4">
        <label for="firstName">Nombres</label>
        <input type="text" class="form-control" id="firstName" formControlName="firstName" placeholder="Nombres"
        [class.is-invalid]="!formulario.get('firstName').valid && formulario.get('firstName').dirty"
        [class.is-valid]="formulario.get('firstName').valid">
      </div>
      <div class="form-group col-md-4">
        <label for="middleName">Apellido paterno</label>
        <input type="text" class="form-control" id="middleName" formControlName="middleName" placeholder="Apellido Paterno"
        [class.is-invalid]="!formulario.get('lastName').valid && formulario.get('lastName').dirty"
        [class.is-valid]="formulario.get('lastName').valid">
      </div>
      <div class="form-group col-md-4">
        <label for="lastName">Apellido materno</label>
        <input type="text" class="form-control" id="lastName" formControlName="lastName" placeholder="Apellido Materno"
        [class.is-invalid]="!formulario.get('middleName').valid && formulario.get('middleName').dirty"
        [class.is-valid]="formulario.get('middleName').valid">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-4">
        <label class="mr-sm-2" for="sex">Sexo</label>
        <select class="custom-select select-tec mr-sm-2" formControlName="sex" id="sex">
          <!-- <option value="" selected disabled hidden>Elige una opción...</option> -->
          <option value="" selected disabled hidden>Elige una opción...</option>
          <option *ngFor="let gender of genders" [ngValue]="gender">{{gender}}</option>
        </select>
      </div>
      <div class="form-group col-md-4">
        <label for="age">Fecha de nacimiento</label>
        <input type="date" class="form-control" formControlName="age" id="age"
        [class.is-invalid]="!formulario.get('age').valid && formulario.get('age').dirty"
        [class.is-valid]="formulario.get('age').valid">
      </div>
      <div class="form-group col-md-4">
        <label class="mr-sm-2" for="maritalStatus">Estado civil</label>
        <select class="custom-select select-tec mr-sm-2" formControlName="maritalStatus" id="maritalStatus">
          <!-- <option value="" selected>Elige una opción...</option> -->
          <option value="" selected disabled hidden>Elige una opción...</option>
          <option *ngFor="let maritalStatus of maritalStatuses" [ngValue]="maritalStatus">{{maritalStatus}}</option>
        </select>
      </div>
    </div>

    <h4>Dirección</h4>
    <div class="borde-tec p-b-4"></div>
    <br>
    <div class="form-row">
      <div class="form-group col-md-4">
        <label for="mainStreet">Calle</label>
        <input type="text" class="form-control" formControlName="mainStreet" id="mainStreet" placeholder="Calle"
        [class.is-invalid]="!formulario.get('mainStreet').valid && formulario.get('mainStreet').dirty"
        [class.is-valid]="formulario.get('mainStreet').valid">
      </div>
      <div class="form-group col-md-4">
        <label for="crossings">Cruzamientos</label>
        <input type="text" class="form-control" formControlName="crossings" id="crossings" placeholder="Cruzamientos"
        [class.is-invalid]="!formulario.get('crossings').valid && formulario.get('crossings').dirty"
        [class.is-valid]="formulario.get('crossings').valid">
      </div>
      <div class="form-group col-md-4">
        <label for="postalCode">Código postal</label>
        <input type="text" class="form-control" formControlName="postalCode" id="postalCode" placeholder="Código Postal"
        [class.is-invalid]="!formulario.get('postalCode').valid && formulario.get('postalCode').dirty"
        [class.is-valid]="formulario.get('postalCode').valid">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-4">
        <label for="city666">Ciudad</label>
        <input type="text" class="form-control" formControlName="city" id="city" placeholder="Ciudad"
        [class.is-invalid]="!formulario.get('city').valid && formulario.get('city').dirty"
        [class.is-valid]="formulario.get('city').valid">
      </div>
      <div class="form-group col-md-4">
        <label for="municipality">Municipio</label>
        <input type="text" class="form-control" formControlName="municipality" id="municipality" placeholder="Municipio"
        [class.is-invalid]="!formulario.get('municipality').valid && formulario.get('municipality').dirty"
        [class.is-valid]="formulario.get('municipality').valid">
      </div>
      <div class="form-group col-md-4">
        <label for="state">Estado</label>
        <input type="text" class="form-control" formControlName="state" id="state" placeholder="Estado"
        [class.is-invalid]="!formulario.get('state').valid && formulario.get('state').dirty"
        [class.is-valid]="formulario.get('state').valid">
      </div>
    </div>

    <h4>Datos Académicos </h4>
    <div class="borde-tec p-b-4"></div>
    <br>
    <div class="form-row">
      <div class="form-group col-md-3">
        <label for="idStudent">Matrícula</label>
        <input type="text" class="form-control" formControlName="idStudent" id="idStudent" placeholder="Matrícula"
        [class.is-invalid]="!formulario.get('idStudent').valid && formulario.get('idStudent').dirty"
        [class.is-valid]="formulario.get('idStudent').valid">
      </div>
      <div class="form-group col-md-4">
        <label class="mr-sm-2" for="bachelor">Carrera de egreso</label>
        <select class="custom-select select-tec mr-sm-2"  formControlName="bachelor" id="bachelor">
          <option value="" selected disabled hidden>Elige una carrera...</option>
          <option *ngFor="let bachelor of bachelors" [ngValue]="bachelor">{{bachelor}}</option>
        </select>
      </div>
      <div class="form-group col-md-5">
        <label for="speciality">Especialidad</label>
        <input type="text" class="form-control" formControlName="speciality" id="speciality" placeholder="Especialidad"
        [class.is-invalid]="!formulario.get('speciality').valid && formulario.get('speciality').dirty"
        [class.is-valid]="formulario.get('speciality').valid">
      </div>
      <div class="form-group col-md-6">
          <label for="master">Maestría</label>
          <input type="text" class="form-control" formControlName="master" id="master" placeholder="Maestría"
          [class.is-invalid]="!formulario.get('master').valid && formulario.get('master').dirty"
          [class.is-valid]="formulario.get('master').valid">
      </div>
      <div class="form-group col-md-6">
          <label for="phd">Doctorado</label>
          <input type="text" class="form-control" formControlName="phd" id="phd" placeholder="Doctorado"
          [class.is-invalid]="!formulario.get('phd').valid && formulario.get('phd').dirty"
          [class.is-valid]="formulario.get('phd').valid">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-12">
        Inglés(%)
      </div>
      <div class="form-group col-md-4">
        <label for="spoken">Hablado</label>
        <input type="number" class="form-control" min="0" max="100" formControlName="spoken" id="spoken" placeholder="Hablado"
        [class.is-invalid]="!formulario.get('spoken').valid && formulario.get('spoken').dirty"
        [class.is-valid]="formulario.get('speciality').valid">
      </div>
      <div class="form-group col-md-4">
        <label for="written">Escrito</label>
        <input type="number" class="form-control" min="0" max="100" formControlName="written" id="written" placeholder="Escrito"
        [class.is-invalid]="!formulario.get('written').valid && formulario.get('written').dirty"
        [class.is-valid]="formulario.get('written').valid">
      </div>
      <div class="form-group col-md-4">
        <label for="translation">Traducción</label>
        <input type="number" class="form-control" min="0" max="100" formControlName="translation" id="translation" placeholder="Traducción"
        [class.is-invalid]="!formulario.get('translation').valid && formulario.get('translation').dirty"
        [class.is-valid]="formulario.get('translation').valid">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-12">
        <label for="">Curriculum</label>
        <div class="custom-file">
            <!-- (change)="startUpload($event.target.files)" -->
          <input type="file" accept="application/pdf" class="custom-file-input">
          <label class="custom-file-label" for="customFile"><i class="fa fa-upload"></i> Choose file</label>
        </div>
      </div>
    </div>


      <!-- <hr> -->
    <div class="form-row">
      <div class="col-md-5 p-2">
        <button type="submit" class="text-center btn btn-rojo col-md-12">Registrarte</button>
      </div>
      <div class="col-md-2">
      </div>
      <div class="col-md-5 p-2">
        <button type="button" class="text-center btn btn-morado col-md-12" (click)="cancelar()">Cancelar</button>
      </div>
    </div>
  </form>
</div>

<!-- Template para guardar los cambios -->
<ng-template #modalGuardar let-c="close" let-d="dismiss">
  <!-- <div class="modal fade "> -->
  <!-- <div class="modal-content"> -->
  <div class="modal-header">
      <h4 class="modal-title">Guardar cambios</h4>
      <button type="button" class="close" (click)="d()" aria-hidden="true">&times;</button>
  </div>
  <div class="modal-body">
      <h6>{{mensaje_modal}}</h6>
  </div>
  <div class="modal-footer">
      <!-- <a (click)="d()" class="btn btn-info" data-dismiss="modal">Cancelar</a> -->
      <!-- <a (click)="c()" class="btn btn-verde">Guardar</a> -->
      <button type="button" class="btn btn-morado" (click)="d()">Cancelar</button>
      <button type="button" class="btn btn-info" (click)="c()">Guardar</button>
  </div>
  <!-- </div> -->
  <!-- </div> -->
</ng-template>
<!-- <ng-template #modalGuardar let-c="close" let-d="dismiss">

  <div class="modal-dialog modal-confirm">
      <div class="modal-content">
          <div class="modal-header">
              <h4 class="modal-title">Confirmation</h4>
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          </div>
          <div class="modal-body">
              <p>Are you sure you want to delete your account? This action cannot be undone and you will be unable to recover any data.</p>
          </div>
          <div class="modal-footer">
              <a href="#" class="btn btn-info" data-dismiss="modal">Cancel</a>
              <a href="#" class="btn btn-danger">Yes, delete it!</a>
          </div>
      </div>
  </div>

</ng-template> -->

<!-- Template para guardar los cambios -->

<!-- <ng-template #modalGuardar let-c="close" let-d="dismiss">
  <div class="modal-body animated fadeIn">
      <h6><i class="icon ion-ios-call icon-huge p-2 text-center"> </i></h6>
       <h6>{{mensaje_modal}}</h6>
</div>

</ng-template> -->

<ng-template #modalExito let-c="close" let-d="dismiss">
  <div class="modal-dialog modal-success animated fadeIn " [class.fadeOut]="flag_exitModal">
      <div class="modal-content">
          <div class="modal-header">
              <div class="icon-box">
                  <!-- <i class="icon ion-ios-checkmark-circle p-2 text-center">&#xE876;</i> -->
                  <i class="material-icons">person_add</i>
              </div>
              <!-- <h4 class="modal-title">Awesome!</h4> -->
          </div>
          <div class="modal-body">
              <h4 class="text-center">Estudiante Agregado</h4>
              <br>
              <p class="text-justify">Tu solicitud fue enviada con éxito, se te notificará por correo electrónico cuando tu solicitud sea aprobada</p>
          </div>
          <div class="modal-footer">
              <button class="btn btn-success btn-block" (click)="d()">OK</button>
          </div>
      </div>
  </div>
</ng-template>
